
############################################################################
#                                                                          #
#  tc-ext-tools build functions: configure, compile, install, rules, etc.  #
#                                                                          #
############################################################################

############################################################################ 
#                            Configure                                     #
############################################################################

build_configure() {

   return 0

}

############################################################################ 
#                              Compile                                     #
############################################################################

build_compile() {

   return 0

}

############################################################################ 
#                              Install                                     #
############################################################################

build_install() {

   install -d -m 755 "$INSTALL_ROOT/etc/profile.d"
   install -m 755 "$PACKAGE_SRC/apache-ant.sh" "$INSTALL_ROOT/etc/profile.d" || return 1

   source "$PACKAGE_SRC/apache-ant.sh"

   install -d -m 755 "$INSTALL_ROOT/$ANT_HOME/bin"
   install -d -m 755 "$INSTALL_ROOT/$ANT_HOME/lib"

   install -m644 ./lib/*.jar "$INSTALL_ROOT/$ANT_HOME/lib" || return 1
   cp -Rp ./etc "$INSTALL_ROOT/$ANT_HOME" || return 1

   # Do not copy Windows .bat/.cmd files
   find ./bin -type f -a ! -name \*.bat -a ! -name \*.cmd -exec install -m755 {} "$INSTALL_ROOT/$ANT_HOME/bin" \; || return 1

   # symlink to junit so it's on the javac build path for ant
   cd "$INSTALL_ROOT/$ANT_HOME/lib"
   ln -s /usr/local/share/java/junit.jar . || return 1
   cd - || return 1

   install -dm755 "$INSTALL_ROOT/usr/local/share/licenses/apache-ant" || return 1
   install -m644 LICENSE NOTICE "$INSTALL_ROOT/usr/local/share/licenses/apache-ant" || return 1

}

############################################################################ 
#                                Rules                                     #
############################################################################

build_rules() {

   tet_load
   tet_download
   tet_convert
   tet_unpack
   tet_patch
   tet_configure
   tet_compile
   tet_install
   tet_split
   tet_strip
   tet_create
   tet_generate
   tet_check
   tet_test
   tet_package
   tet_encrypt

}

