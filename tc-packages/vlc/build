#
# tc-ext-tools build functions: configure, compile, install, rules
#

### Configure
build_configure() {

   ./configure --prefix=/usr/local --disable-rpath --enable-glx --enable-opengl \
       --enable-dbus --enable-dbus-control --enable-fribidi --enable-nls --enable-x264 \
       --enable-ncurses --enable-libtar --enable-skins2 --enable-mkv --enable-pulse --enable-oss --enable-alsa \
       --enable-xvideo --enable-theora --disable-caca --enable-xcb \
       --enable-avformat --enable-avcodec --enable-postproc --enable-swscale \
       --enable-a52 --enable-dca --enable-faad --enable-libmpeg2 --enable-live555 --with-live555-tree=/usr/local/lib/live \
       --enable-mad --enable-v4l --enable-v4l2 --enable-libcddb --disable-vcdx --enable-vcd --disable-zvbi --enable-taglib \
       --disable-hd1000v --disable-hd1000a --enable-lua --disable-telx \
       --enable-dvb --enable-dvbpsi --enable-libxml2 --enable-ogg --enable-vorbis --enable-speex \
       --enable-dvdread --enable-dvdnav --enable-shout --enable-notify --enable-screen \
       --enable-mpc --disable-gme --enable-twolame --enable-flac --enable-schroedinger \
       --enable-mozilla --enable-mtp --enable-png --enable-sdl --enable-realrtsp \
       --enable-visual --enable-snapshot --disable-gnutls --disable-projectm --enable-svg \
       --enable-lirc --enable-pvr || return 1

}
##

### Compile
build_compile() {

   make || return 1

}
##

### Install
build_install() {

   make DESTDIR="$INSTALL_ROOT" install || return 1

   for res in 16 32 48 128; do
     install -D -m644 "share/icons/${res}x${res}/vlc.png" "$INSTALL_ROOT/usr/local/share/icons/hicolor/${res}x${res}/apps/vlc.png" || return 1
   done

}
##

### Rules
build_rules() {

   tet_load
   tet_download
   tet_convert
   tet_unpack
   tet_patch
   tet_configure
   tet_compile
   tet_install
   tet_split
   tet_strip
   tet_create
   tet_generate
   tet_check
   tet_package

}
##
